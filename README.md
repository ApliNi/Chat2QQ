## Chat2QQ+

è¿™ä¸ªæ’ä»¶ä¸“æ³¨äºå®ç°æ›´å¥½çš„æ¶ˆæ¯æ˜¾ç¤º, å¹¶ä»¥æ¨¡å—çš„æ–¹å¼é›†æˆäº†ä¸€äº›å…¶ä»–çš„åŠŸèƒ½

- **ğŸš§ è¯´æ˜**
  - [ApliNi/Chat2QQ](https://github.com/ApliNi/Chat2QQ) æ˜¯åŒ…å« [DreamVoid/Chat2QQ](https://github.com/DreamVoid/Chat2QQ) å‡ ä¹æ‰€æœ‰åŠŸèƒ½çš„æ’ä»¶, ç»è¿‡é‡å†™å¹¶æ·»åŠ äº†è®¸å¤šåŠŸèƒ½.
  - å¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•è¯·ç‚¹å‡» [`Issues`](https://github.com/ApliNi/Chat2QQ/issues), æ‰“å¼€ä¸€ä¸ªåŠŸèƒ½è¯·æ±‚. å¦‚æœæˆ‘èƒ½åšåˆ°å°±ä¼šå»å®ç°å‡ºæ¥.  
  - å¦‚æœæ‚¨ä½¿ç”¨é»˜è®¤é…ç½®, é‚£ä¹ˆè¿˜éœ€è¦å¼€å¯ MiraiMC æ’ä»¶é…ç½®ä¸­çš„ `bot.contact-cache.enable-group-member-list-cache`, æ‰èƒ½ä¿è¯è½¯ä»¶æ­£å¸¸è¿è¡Œ.  
<p></p>

- **ğŸ“¦ ä¸‹è½½**
  - åœ¨ [`Releases`](https://github.com/ApliNi/Chat2QQ/releases) ä¸­ä¸‹è½½æœ€æ–°çš„jaræ–‡ä»¶.
  - å¦‚æœéœ€è¦å¼€å‘ç‰ˆæœ¬, å¯ä»¥ç‚¹å‡» [`Actions`](https://github.com/ApliNi/Chat2QQ/actions), æ‰“å¼€ç¬¬ä¸€ä¸ª, æ‰¾åˆ°æœ€ä¸‹é¢çš„jaræ–‡ä»¶. 
<p></p>

- **ğŸ“„ å…¶ä»–**
  - è®¢é˜…æ›´æ–°: ç‚¹å‡»å³ä¸Šè§’ `Watch` æŒ‰é’®, é€‰æ‹© `Custom` ä¸­çš„ `Releases` !
  - ä½¿ç”¨é‡ç»Ÿè®¡: [bStats](https://bstats.org/plugin/bukkit/ApliNi-Chat2QQ/17587)
<p></p>


<a href="https://bstats.org/plugin/bukkit/ApliNi-Chat2QQ/17587">![](https://bstats.org/signatures/bukkit/ApliNi-Chat2QQ.svg)</a>


<br />

### æ›´æ–°è®¡åˆ’

- [x] èŠå¤©æ¶ˆæ¯è½¬å‘
  - [x] æ ¼å¼åŒ–
  - [x] å¤šç¾¤ç»„æ”¯æŒ
  - [x] æ¶ˆæ¯é¢„å¤„ç†åŠŸèƒ½
  - [x] å¤šè¡Œæ–‡æœ¬å’Œé•¿æ–‡æœ¬æ˜¾ç¤ºä¼˜åŒ–
  - [x] å¼•ç”¨å›å¤æ˜¾ç¤ºä¼˜åŒ–
  - [x] ç¾¤åç‰‡è¿‡æ»¤
  - [x] è‰¾ç‰¹æ˜¾ç¤ºä¼˜åŒ–
  - [x] ç”¨æˆ·é»‘åå•

- [x] äº‹ä»¶å¤„ç†
  - [x] ç©å®¶åŠ å…¥é€€å‡º

---
è¿™äº›åŠŸèƒ½åœ¨å¯é…ç½®çš„æ¨¡å—ä¸­

- [x] è¿è¡ŒæŒ‡ä»¤
  - [x] è¿”å›æŒ‡ä»¤è¾“å‡ºæ¶ˆæ¯
  - [x] æ›´å¥½çš„ç­‰å¾…æŒ‡ä»¤è¿”å›
  - [x] æƒé™ç®¡ç†
    - [x] ç»§æ‰¿
  - [x] æŒ‡ä»¤é»‘åå•

- [x] ä»ç¾¤åç‰‡ä¸­åŒ¹é…æ¸¸æˆåç§°

- [x] æ¶ˆæ¯é¢„å¤„ç†
  - [x] åŒ¹é…æ–¹å¼: å‰ç¼€ / åŒ…å« / ç›¸ç­‰ / æ­£åˆ™
  - [x] æ”¯æŒè®©åŒ¹é…åˆ°çš„æ¶ˆæ¯å®Œå…¨ä¸å‘é€

- [x] æŒ‰è¡Œé¢„å¤„ç†æŒ‡ä»¤çš„è¿”å›æ¶ˆæ¯
  - [x] æ”¯æŒ(åŒ¹é…æ–¹å¼)

- [x] æŒ‰åˆå¹¶åçš„å®Œæ•´æ¶ˆæ¯é¢„å¤„ç†æŒ‡ä»¤è¿”å›æ¶ˆæ¯
  - [x] æ”¯æŒ(åŒ¹é…æ–¹å¼)
  - [x] æ·»åŠ ä¸€äº›ç‰¹æ®Šçš„å ä½ç¬¦

- [x] é¢„è®¾çš„æ ¼å¼è°ƒæ•´åŠŸèƒ½
  - [x] åˆ é™¤æ¶ˆæ¯ä¸­çš„æ ¼å¼åŒ–å­—ç¬¦
  - [x] åˆ é™¤æ¶ˆæ¯å‰åç©ºæ ¼å’Œç©ºè¡Œ
  - [x] åˆ é™¤ç¾¤åç‰‡ä¸­çš„æ ¼å¼åŒ–ä»£ç 
  - [x] å°†é•¿æ–‡æœ¬è½¬æ¢ä¸ºé¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºæ–‡æœ¬
  - [x] æ›´å¥½çš„å¤šè¡Œæ¶ˆæ¯
  - [x] å°†èŠå¤©æ¶ˆæ¯è½¬å‘åˆ°æ§åˆ¶å°

- [x] å¼•ç”¨å›å¤ä¼˜åŒ–
  - [x] æ ¼å¼åŒ–
  - [x] åˆ é™¤é‡å¤çš„è‰¾ç‰¹

- [x] `/qchat`
  - [x] åŒºåˆ†ç©å®¶è¿è¡ŒæŒ‡ä»¤å’Œæ§åˆ¶å°è¿è¡ŒæŒ‡ä»¤

- [x] ç¾¤æˆå‘˜ä¿¡æ¯ç¼“å­˜ \[å‰ç½®\]
  - [x] è‡ªåŠ¨æ›´æ–°æ•°æ®
  - [x] æ”¯æŒä½¿ç”¨å¤–éƒ¨ Mirai çš„ç¼“å­˜æ–‡ä»¶

- [x] è‰¾ç‰¹æ˜¾ç¤ºä¼˜åŒ–

- [x] äº‹ä»¶ä»»åŠ¡
  - [x] ç¾¤æˆå‘˜åŠ å…¥
  - [x] ç¾¤æˆå‘˜é€€å‡º

- [x] è‡ªåŠ¨å›å¤
  - [x] æ”¯æŒ(åŒ¹é…æ–¹å¼)
  - [x] æ”¯æŒ PAPI

<br />


### âœ¨ å›¾ç‰‡

è¿è¡ŒæŒ‡ä»¤

![image](https://user-images.githubusercontent.com/59365724/227127511-a149cc33-9683-4bd9-9640-fd938546859d.png)


ç¾¤åç‰‡è¿‡æ»¤

![image](https://user-images.githubusercontent.com/59365724/227157788-d9259da8-46e6-438e-b32b-3926a2d3a9a3.png)
![image](https://user-images.githubusercontent.com/59365724/227157812-a0245843-66e9-44bc-8bc2-e0935ebc2d2b.png)


ç‰¹æ®Šæ¶ˆæ¯é¢„å¤„ç†

![image](https://user-images.githubusercontent.com/59365724/227128189-8f217293-04e9-472d-a09e-daad7eef79f0.png)
![image](https://user-images.githubusercontent.com/59365724/227128209-f6be73c2-efd1-4ca2-b85b-b2c2b84dad7d.png)


å¤šè¡Œæ–‡æœ¬å’Œé•¿æ–‡æœ¬æ˜¾ç¤ºä¼˜åŒ–

![image](https://user-images.githubusercontent.com/59365724/227128013-013e0514-771e-4075-8d4d-c28557cfa126.png)
![image](https://user-images.githubusercontent.com/59365724/227127980-628d662d-cc47-4468-9437-2e5298a6d6c3.png)

![image](https://user-images.githubusercontent.com/59365724/227158659-b35ac9b3-113e-4d3d-80d7-f214c8064b02.png)
![image](https://user-images.githubusercontent.com/59365724/227158697-45a16e51-f4b1-4f97-8296-03d4074d3efb.png)



å¼•ç”¨å›å¤æ˜¾ç¤ºä¼˜åŒ–

![image](https://user-images.githubusercontent.com/59365724/227128959-ff5fcdab-f09e-4ed8-bee9-08ade7cf7ef3.png)
![image](https://user-images.githubusercontent.com/59365724/227128919-092545b6-6d38-4324-b8b8-1903cb522a05.png)

![image](https://user-images.githubusercontent.com/59365724/227159155-8a731828-c929-44f8-b0c1-5f380da403cc.png)
![image](https://user-images.githubusercontent.com/59365724/227159055-02e5cdcd-3a5e-4c20-8fda-85b0df90062a.png)

![image](https://user-images.githubusercontent.com/59365724/227159023-7333b385-c687-45a4-965b-e9b066af0e6f.png)
![image](https://user-images.githubusercontent.com/59365724/227159083-e8d6b7e7-9ba6-41e8-9562-e7a174f87be5.png)


æ›´å¥½çš„åç§°æ˜¾ç¤º

![image](https://user-images.githubusercontent.com/59365724/227157070-c8fa51ca-b623-4167-a7ef-f02239d84aef.png)
![image](https://user-images.githubusercontent.com/59365724/227157097-d6b226e4-2158-4b3b-a36b-db21acfeff2e.png)


è‡ªåŠ¨å›å¤

![image](https://user-images.githubusercontent.com/59365724/227129074-9a8316e1-8b8f-4abe-9e74-ad73f212f9ec.png)


### å®Œæ•´é…ç½®å’ŒåŠŸèƒ½
```yaml

# æ¸¸æˆå†…é…ç½®
# QQ -> MC çš„æ¶ˆæ¯
general:
  # è½¬å‘å“ªäº›QQç¾¤çš„æ¶ˆæ¯
  group-ids:
    - 1000000
    - 1000001

  # ç¾¤èŠå¤©å‰ç¼€ (èŠå¤©éœ€è¦å¸¦æœ‰æŒ‡å®šå‰ç¼€æ‰èƒ½å‘é€åˆ°æœåŠ¡å™¨)
  requite-special-word-prefix:
    enabled: false
    prefix:
      - '#'

  # å½“ç¾¤åç‰‡ä¸å­˜åœ¨æ—¶æ˜¯å¦å°è¯•è·å–æ˜µç§°
  use-nick-if-namecard-null: true

  # QQç¾¤æ¶ˆæ¯å¹¿æ’­åˆ°æ¸¸æˆå†…èŠå¤©çš„æ ¼å¼ æ ¼å¼åŒ–ä»£ç : Â§
  # %groupname% - ç¾¤åç§°
  # %groupid% - ç¾¤å·
  # %nick% - å‘é€è€…ç¾¤åç‰‡
  # %regex_nick% - ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°çš„åç§°, éœ€è¦å¼€å¯ aplini.cleanup-name æ¨¡å—
  # %qq% - å‘é€è€…QQå·
  # %message% - æ¶ˆæ¯å†…å®¹, æ”¯æŒé¢„å¤„ç†æ¨¡å— aplini.pretreatment
  # %_reply_% - å¦‚æœæ˜¯å›å¤æ¶ˆæ¯..., é…ç½®åœ¨ aplini.reply-message æ¨¡å—
  in-game-chat-format: 'Â§f[Â§7%nick%Â§rÂ§f] %_reply_%Â§7%message%'
  # ä¸ºæ¯ä¸ªç¾¤ä½¿ç”¨ä¸åŒçš„æ ¼å¼, å¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨ä¸Šæ–¹çš„ in-game-chat-format
  special:
    1000000: 'Â§f[Â§7ä¸»ç¾¤ %nick%Â§rÂ§f] %_reply_%Â§7%message%'
    1000001: 'Â§7[å¤–ç¾¤ %nick%] %_reply_%%message%'

  # å¯ç”¨ MiraiMC å†…ç½®çš„QQç»‘å®š
  use-miraimc-bind: false
  # å·²ç»‘å®šç©å®¶çš„å¹¿æ’­æ¶ˆæ¯æ ¼å¼
  bind-chat-format: 'Â§f[Â§7%nick%Â§rÂ§f] %_reply_%Â§7%message%'
  # ä¸ºæ¯ä¸ªç¾¤ä½¿ç”¨ä¸åŒçš„æ ¼å¼, å¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨ä¸Šæ–¹çš„ bind-chat-format
  special-bind:
    1000000: 'Â§f[Â§7ä¸»ç¾¤ %nick%Â§rÂ§f] %_reply_%Â§7%message%'



# æœºå™¨äººé…ç½®
# MC -> QQ çš„æ¶ˆæ¯
bot:
  # ä½¿ç”¨å“ªäº›QQå·å¤„ç†æ¶ˆæ¯
  # åªèƒ½æ·»åŠ ä¸€ä¸ª
  bot-accounts:
    - 2000000

  # å°†æ¶ˆæ¯è½¬å‘åˆ°é‚£äº›QQç¾¤
  group-ids:
    - 1000000

  # ç©å®¶åœ¨ä»¥ä¸‹ä¸–ç•Œä¸­èŠå¤©æ‰ä¼šè¢«è½¬å‘
  available-worlds:
  #- world
  # å°†ä»¥ä¸Šé…ç½®ä½œä¸ºé»‘åå•, ç©å®¶ä¸åœ¨ä»¥ä¸Šä¸–ç•Œä¸­èŠå¤©æ‰ä¼šè¢«è½¬å‘
  available-worlds-use-as-blacklist: true

  # æ¸¸æˆèŠå¤©å‰ç¼€ (èŠå¤©éœ€è¦å¸¦æœ‰æŒ‡å®šå‰ç¼€æ‰èƒ½å‘é€åˆ°QQç¾¤) 
  requite-special-word-prefix:
    enabled: true
    prefix:
      - '#'

  # æœåŠ¡å™¨æ¶ˆæ¯å‘é€åˆ°QQç¾¤çš„æ ¼å¼
  # %player% - ç©å®¶åç§°
  # %message% - æ¶ˆæ¯å†…å®¹
  group-chat-format: '[%player%] %message%'


  # æ˜¯å¦å‘é€ç©å®¶è¿›å‡ºæœåŠ¡å™¨çš„æ¶ˆæ¯
  # %player% - ç©å®¶æ˜¾ç¤ºæ˜µç§°
  send-player-join-quit-message: false
  # åŠ å…¥
  player-join-message: '%player% è¿›å…¥æœåŠ¡å™¨'
  # é€€å‡º
  player-quit-message: '%player% ç¦»å¼€æœåŠ¡å™¨'
  # é˜²åˆ·å±, åœ¨æ­¤æ—¶é—´å†…å¤šæ¬¡è¿›å‡ºæœåŠ¡å™¨ä¸ä¼šå‘é€æ¶ˆæ¯
  player-join-quit-message-interval: 0



# é»‘åå•, å¯ç”¨äºæ·»åŠ å…¶ä»–QQæœºå™¨äºº
# ä¼˜å…ˆçº§å¤§äºä¸Šæ–¹é…ç½®
blacklist:
  # ä¸è½¬å‘ä»¥ä¸‹QQå·çš„èŠå¤©æ¶ˆæ¯
  qq:
  #- 2000001

  # ä¸è½¬å‘ä»¥ä¸‹ç©å®¶åçš„èŠå¤©æ¶ˆæ¯
  player:
  #- playerName


# ############### #
# ä»¥ä¸‹ä¸ºåŠŸèƒ½æ¨¡å—é…ç½® #
# ############### #

aplini:

  ## 1
  # åœ¨QQç¾¤ä¸­è¿è¡ŒæŒ‡ä»¤ [éœ€è¦å•ç‹¬æ·»åŠ QQç¾¤]
  # æ­¤æ¨¡å—ä¸å¤„ç†é»‘åå• blacklist
  run-command:
    enabled: false
    # å¯ç”¨çš„ QQç¾¤
    qq-group:
      - 1000001

    # æŒ‡ä»¤å‰ç¼€, å¯ä»¥æ˜¯å¤šä¸ªå­—ç¬¦, æ¯”å¦‚ "~$"
    command-prefix: '/'
    # æŒ‡ä»¤æœ€å¤§é•¿åº¦ (ä¸åŒ…æ‹¬æŒ‡ä»¤å‰ç¼€)
    command-max-length: 255
    # è·å–æŒ‡ä»¤çš„æ­£åˆ™è¡¨è¾¾å¼, å½“ç¬¬ä¸€ä¸ªæ•è·ç»„çš„å†…å®¹ä¸æŒ‡ä»¤ç™½åå•ä¸­çš„åŒ¹é…æ—¶åˆ™å…è®¸è¿è¡Œ (ä¸å¸¦æ–œæ æˆ–å‰ç¼€)
    regex-command-main: '^([^ ]+)'
    # åˆ¤æ–­æŒ‡ä»¤è¿”å›ä¸ºç©ºçš„æ­£åˆ™, åŒ¹é…å¤šè¡Œæ–‡æœ¬. (ç»è¿‡ pretreatment-command-message å¤„ç†å)
    return-isNull: '^\s*$'
    # æ˜¯å¦å°†ä¸»å‘½ä»¤è½¬æ¢ä¸ºå°å†™å†æ‰§è¡Œ
    always-lowercase: false

    # æ˜¯å¦å‘é€æŒ‡ä»¤çš„è¾“å‡º, å…³é—­å¯æé«˜æ€§èƒ½æˆ–è§£å†³ä¸€äº›å…¼å®¹æ€§é—®é¢˜
    return: true
    # ç­‰å¾…æŒ‡ä»¤è¿è¡Œå¤šé•¿æ—¶é—´å†å°†ç»“æœå‘é€åˆ°QQç¾¤ (æ¯«ç§’), éœ€è¦å¼€å¯ run-command.return
    # å¦‚æœä½ é‡åˆ°äº†ä¸€äº›æå‰è¾“å‡ºç±»ä¼¼ "æ­£åœ¨è¿è¡Œ...è¯·ç¨ç­‰" æ¶ˆæ¯çš„æ’ä»¶, å¯ä»¥åœ¨ pretreatment-command-message ä¸­é…ç½®å®Œå…¨åˆ é™¤è¿™æ¡æ¶ˆæ¯. ç„¶å return-sleep-min ä¿æŒä¸å˜ :)
    return-sleep-min: 14 # æœ€å°ç­‰å¾…æ—¶é—´
    return-sleep-max: 5346 # æœ€å¤§ç­‰å¾…æ—¶é—´, å¦‚æœä¸€äº›é•¿è€—æ—¶æŒ‡ä»¤æ²¡æœ‰è¾“å‡ºè¯·å¢å¤§æ­¤å€¼
    return-sleep-sampling-interval: 172 # è¾“å‡ºå†…å®¹æ£€æŸ¥é—´éš”, å¦‚æœç»å¸¸æ‰§è¡Œé•¿è€—æ—¶æŒ‡ä»¤å¯ä»¥å¢å¤§æ­¤å€¼
    # æ˜¯å¦å°†æŒ‡ä»¤çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°å’Œæ—¥å¿—
    return-log: true

    # æ‰§è¡Œä¸åœ¨ç™½åå•ä¸­çš„æŒ‡ä»¤æ—¶å‘é€è¿”å›æ¶ˆæ¯
    message-miss: 'æœªå‘½ä¸­çš„æŒ‡ä»¤'
    # è¿è¡Œæ— è¿”å›æŒ‡ä»¤çš„æ¶ˆæ¯
    message-no-out: 'è¿è¡Œæ— è¿”å›æŒ‡ä»¤'

    # è®¾ç½®å„ç»„å¯æ‰§è¡Œçš„ä¸»å‘½ä»¤ç™½åå• (ä¸å¸¦æ–œæ æˆ–å‰ç¼€)
    # æƒé™æ›´é«˜çš„ç”¨æˆ·å°†å¯ä»¥ä½¿ç”¨æ›´ä½çš„ç”¨æˆ·çš„æŒ‡ä»¤
    # å¦‚æœæ·»åŠ ä¸€æ¡ ___ALL_COMMAND___ ä½œä¸ºæŒ‡ä»¤, åˆ™è¡¨ç¤ºæ­¤ç»„å¯ä»¥ä½¿ç”¨æ‰€æœ‰æŒ‡ä»¤, æ­¤åŠŸèƒ½è¯·å‹¿éšæ„ä½¿ç”¨ !
    group:
      # permission_<int> æ˜¯ MiraiMC è·å–åˆ°çš„æƒé™æ•°å­—, ä»¥åæ›´æ–°äº†å…¶ä»–æƒé™åªéœ€è¦ä»¥æ­¤æ ¼å¼æ·»åŠ å³å¯ä½¿ç”¨
      permission_2: # ç¾¤ä¸»
      #- chat2qq
      permission_1: # ç®¡ç†å‘˜
      #- spark
      permission_0: # æˆå‘˜
      #- list
      #- tps

    # ç‰¹æ®ŠæŒ‡ä»¤é…ç½®
    special:
      no-return: # è¿™äº›æŒ‡ä»¤å§‹ç»ˆä¸è¾“å‡ºæ¶ˆæ¯
      #- plugins
      #- version


  ## 2
  # ä» ç¾¤åç‰‡(%nick%) ä¸­åŒ¹é… MC å¯ç”¨çš„æ¸¸æˆåç§°
  # æ·»åŠ å˜é‡: %regex_nick% - ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°çš„åç§°, éœ€è¦å¼€å¯ cleanup-name åŠŸèƒ½
  cleanup-name:
    enabled: false
    # ç¨‹åºå–ç¬¬ä¸€ä¸ªæ•è·ç»„çš„ç»“æœ
    regex: '([a-zA-Z0-9_]{3,16})'
    # å¦‚æœåŒ¹é…ä¸åˆ°, åˆ™ä½¿ç”¨ä»¥ä¸‹å­—ç¬¦ä¸²
    # %nick% - ç¾¤åç‰‡
    # %qq% - qqå·
    not-captured: '%nick%'


  ## 3
  # é¢„å¤„ç† %message% ä¸­çš„æ¶ˆæ¯
  pretreatment:
    enabled: true
    # **ä½¿ç”¨æ–¹æ³•**
    # list:
    #   - åŒ¹é…æ–¹å¼: prefix (å‰ç¼€åŒ¹é…), å¤„ç†æ–¹å¼: to_all, to_replace
    #              contain (åŒ…å«), å¤„ç†æ–¹å¼: to_all, to_replace
    #              equal (å®Œå…¨ç›¸ç­‰), å¤„ç†æ–¹å¼: to_all
    #              regular (æ­£åˆ™åŒ¹é…), å¤„ç†æ–¹å¼: to_all, to_regular
    #
    #     å¤„ç†æ–¹å¼: to_all (æ›¿æ¢æ•´æ¡æ¶ˆæ¯)
    #              to_replace (æ›¿æ¢åŒ¹é…åˆ°çš„éƒ¨åˆ†)
    #              to_regular (ä½¿ç”¨æ­£åˆ™æ›¿æ¢, å¯ä½¿ç”¨æ­£åˆ™å˜é‡)
    #
    #     æ˜¯å¦å‘é€: send (å¡«å†™ send é…ç½®å°†å–æ¶ˆè½¬å‘é€åŒ¹é…åˆ°çš„æ¶ˆæ¯, ä¸éœ€è¦æ—¶è¯·å¿½ç•¥)

    # ç¤ºä¾‹é…ç½®, é»˜è®¤é…ç½®äº†ä¸€äº›å¯èƒ½æœ‰ç”¨çš„åŠŸèƒ½:
    list:

      # ç¾¤å…¬å‘Š, JSON
      - prefix: '{"app":"com.tencent.mannounce"'
        to_all: '[ç¾¤å…¬å‘Š]'

      # è§†é¢‘, å­—ç¬¦ä¸²
      - prefix: 'ä½ çš„QQæš‚ä¸æ”¯æŒæŸ¥çœ‹è§†é¢‘çŸ­ç‰‡'
        to_all: '[è§†é¢‘]'

      # ä½¿ä¸­æ‹¬å·ä¸æ–‡æœ¬çš„å‰åå§‹ç»ˆæœ‰ç©ºæ ¼
      - regular: '\[([^\]]+)\]([^\s])'
        to_regular: '[$1] $2'
      - regular: '([^\s])\[([^\]]+)\]'
        to_regular: '$1 [$2]'

      # è½¬å‘æ¶ˆæ¯ä½¿ç”¨å‰ç¼€, åœ¨ç¾¤ä¸­ä½¿ç”¨ # å‰ç¼€å°†æ”¹å˜æ¶ˆæ¯æ ¼å¼
      - regular: '^\s*(?:#|ï¼ƒ)'
        to_regular: 'Â§7> Â§f'

      # ç¤ºä¾‹: å–æ¶ˆå‘é€åŒ…å«æ­¤å†…å®¹çš„æ¶ˆæ¯
      #- contain: 'æ­¤å†…å®¹'
      #  send: false


  ## 3.1
  # æŒ‰è¡Œé¢„å¤„ç†æŒ‡ä»¤è¿”å›æ¶ˆæ¯, ç”¨äºå¤„ç†è¿”å›åˆ°QQç¾¤çš„æ¶ˆæ¯
  pretreatment-command-message:
    enabled: true
    # ä½¿ç”¨æ–¹æ³•: å¦‚ä¸Š
    list:
      # åˆ é™¤æ ¼å¼åŒ–å­—ç¬¦
      - regular: 'Â§[a-z0-9]'
        to_regular: ''

      # ç¤ºä¾‹: coæ’ä»¶ç¿»é¡µæ¶ˆæ¯å¤„ç†
      #- regular: 'â—€? ?ç¬¬ (.*) é¡µ â–¶? ?\((.*)\)'
      #  to_regular: 'ç¬¬ $1 é¡µ,  ä½¿ç”¨ /co page <é¡µç > ç¿»é¡µ'


  ## 3.2
  # æŒ‰å¤šè¡Œæ–‡æœ¬é¢„å¤„ç†æŒ‡ä»¤è¿”å›æ¶ˆæ¯
  # å¯ä½¿ç”¨å ä½ç¬¦:
  #   - %command% :: ç”¨æˆ·è¿è¡Œçš„æŒ‡ä»¤åŸæ–‡(ä¸å¸¦æ–œæ /å‰ç¼€)
  #   - %time% :: æŒ‡ä»¤è¿è¡Œè€—æ—¶
  #   - %qq% :: æ‰§è¡ŒæŒ‡ä»¤çš„qqå·
  #   - %group% :: æ‰§è¡ŒæŒ‡ä»¤çš„ç¾¤å·
  pretreatment-command-message-all:
    enabled: false
    enabled-placeholder: false # å…³é—­å ä½ç¬¦å¯æé«˜æ€§èƒ½
    # ä½¿ç”¨æ–¹æ³•: å¦‚ä¸Š
    list:
    # ç¤ºä¾‹: æ˜¾ç¤ºæŒ‡ä»¤è¿è¡Œæ—¶é—´, éœ€è¦å¼€å¯å ä½ç¬¦
    #- regular: '([\s\S]+)'
    #  to_regular: '$1\n  - è¿è¡Œè€—æ—¶: %time%ms'


  ## 4
  # é¢„è®¾çš„æ ¼å¼è°ƒæ•´åŠŸèƒ½
  other-format-presets:
    # æ˜¯å¦åˆ é™¤ %message% æ¶ˆæ¯ ä¸­çš„æ ¼å¼åŒ–å­—ç¬¦
    render-message_format-code: false
    # åˆ é™¤ %message% æ¶ˆæ¯ å‰åçš„ç©ºæ ¼å’Œç©ºè¡Œ
    message-trim: true
    # æ˜¯å¦åˆ é™¤ %nick% ç¾¤åç‰‡ ä¸­çš„æ ¼å¼åŒ–å­—ç¬¦
    render-nick_format-code: true

    # èŠå¤©æ¶ˆæ¯è¿‡é•¿æ—¶è½¬æ¢ä¸ºæ‚¬æµ®æ–‡æœ¬
    long-message:
      enabled: true
      # ä»¥ä¸‹ä»»æ„ä¸€ä¸ªæ¡ä»¶æˆç«‹æ—¶è¢«åˆ¤å®šä¸ºé•¿æ¶ˆæ¯, è‹¥éœ€å–æ¶ˆä¸€ä¸ª, è¯·æ”¹ä¸ºå¾ˆå¤§çš„æ•°
      # æ¡ä»¶1: æ¶ˆæ¯é•¿åº¦è¾¾åˆ°æ­¤å€¼
      condition-length: 210
      # æ¡ä»¶2: æ¢è¡Œæ•°é‡è¾¾åˆ°æ­¤å€¼, åœ¨ message-trim ä¹‹åè¿è¡Œ
      condition-line_num: 6
      # æ˜¾ç¤ºä¸º
      message: 'Â§f[Â§7é•¿æ¶ˆæ¯Â§f]'

    # æ˜¯å¦å¯ç”¨ "æ›´å¥½çš„å¤šè¡Œæ¶ˆæ¯"
    multiline-message:
      enabled: true
      line-0: '' # [å¤šè¡Œæ¶ˆæ¯]
      line-prefix: '  '

    # æ˜¯å¦å°†èŠå¤©æ¶ˆæ¯è½¬å‘åˆ°æ§åˆ¶å°/æ—¥å¿—
    message-to-log: true


  ## 5
  # å¼•ç”¨å›å¤
  # æ·»åŠ å˜é‡: %_reply_%
  # å¦‚æœæ˜¯å›å¤æ¶ˆæ¯, åˆ™ä¸ºå˜é‡èµ‹å€¼å¹¶ä¸ºæ¶ˆæ¯æ·»åŠ æ‚¬æµ®æ–‡æœ¬æ¡†ç”¨äºæ˜¾ç¤ºå†…å®¹. å¯ä»¥å°†é¼ æ ‡æ‚¬åœåœ¨æ¶ˆæ¯ä¸ŠæŸ¥çœ‹å›å¤çš„å†…å®¹
  reply-message:
    # å¯ç”¨å˜é‡:
    # %qq% - è¢«å›å¤çš„æ¶ˆæ¯çš„å‘é€è€…QQå·
    # %c_name% - ç¾¤åç‰‡ - éœ€è¦å¼€å¯ aplini.format-qq-id
    var: 'Â§f[Â§7å›å¤ @%c_name%Â§f] '

    # å¯ç”¨å˜é‡:
    # %_/n_% - æ¢è¡Œ
    # %qq% - è¢«å›å¤çš„æ¶ˆæ¯çš„å‘é€è€…QQå·
    # %c_name% - ç¾¤åç‰‡ - éœ€è¦å¼€å¯ aplini.format-qq-id
    # %message% - å›å¤å†…å®¹
    # %main_message% - å½“å‰æ¶ˆæ¯å†…å®¹
    message: 'Â§f[Â§7å¼•ç”¨ @%c_name%Â§f]%_/n_%Â§7%message%Â§r%_/n_%%_/n_%Â§fâ€”â€”%main_message%'

    # åˆ é™¤é‡å¤@ :: å¦‚æœå¼•ç”¨å›å¤å¯¹è±¡ç­‰äºæ¶ˆæ¯å¼€å¤´çš„@å¯¹è±¡, åˆ™åˆ é™¤æ¶ˆæ¯å¼€å¤´çš„ @
    del-duplicates-at: true


  ## 6
  # å‘é€æ¶ˆæ¯çš„æŒ‡ä»¤
  # /qchat <æ¶ˆæ¯> - ä½¿ç”¨æ­¤æŒ‡ä»¤
  qchat:
    # ä½¿ç”¨ä¸Šæ–¹ general.group-ids ä¸­é…ç½®çš„ç¾¤
    use-general-group-ids: true
    # æ¶ˆæ¯è½¬å‘åˆ°å“ªäº›ç¾¤, éœ€è¦ use-general-group-ids: false
    group-ids:
      - 1000000
    # å¦‚æœæ˜¯ç©å®¶ä½¿ç”¨æŒ‡ä»¤
    player:
      # è½¬å‘åˆ°QQç¾¤çš„æ ¼å¼
      # %name% - ç©å®¶åç§°
      # %message% - æ¶ˆæ¯
      qq-format: '[%name%] %message%'
      # æ˜¯å¦åŒæ—¶å°†æ¶ˆæ¯å¹¿æ’­åˆ°MCæœåŠ¡å™¨
      mc-broadcast: true
      # å¹¿æ’­åˆ°MCæœåŠ¡å™¨çš„
      mc-format: 'Â§f[Â§7%name%Â§f] Â§7%message%'
    # å¦‚æœæ˜¯æ§åˆ¶å°æˆ–æ’ä»¶ä½¿ç”¨æŒ‡ä»¤, åŒæ—¶ç»•è¿‡å…³é”®è¯å’Œç©å®¶é»‘åå•
    console:
      # %message% - æ¶ˆæ¯
      qq-format: '%message%'


  ## 7
  # [å‰ç½®] ç¾¤æˆå‘˜ä¿¡æ¯ç¼“å­˜
  # ! éœ€è¦å¼€å¯ MiraiMC é…ç½®ä¸­çš„ bot.contact-cache.enable-group-member-list-cache
  player-cache:
    # åœ¨æŒ‡å®šæœºå™¨äººç™»å½•æ—¶è¿è¡Œæ­¤ç¨‹åº
    enabled: true
    # åœ¨ç©å®¶ç¾¤åç‰‡ä¿®æ”¹æ—¶æ›´æ–°ç¼“å­˜
    auto-update: true
    # åœ¨ç©å®¶å‘é€æ¶ˆæ¯æ—¶æ›´æ–°ç¼“å­˜
    auto-update-form-msg: true
    # ç¾¤åç‰‡ä¿®æ”¹æ—¶å‘å‡ºæ—¥å¿—
    auto-update-log: true
    # ä½¿ç”¨ä¸Šæ–¹ general.group-ids ä¸­é…ç½®çš„ç¾¤
    use-general-group-ids: true
    # ç¼“å­˜å“ªäº›ç¾¤, éœ€è¦ use-general-group-ids: false
    group-ids:
      - 1000000
    # MiraiMC ç¾¤ç¼“å­˜æ–‡ä»¶è·¯å¾„, å¦‚æœä½ ä¿®æ”¹äº†æ’ä»¶ç›®å½•ç›¸å…³çš„é…ç½®, æ‰éœ€è¦ä¿®æ”¹å®ƒ
    # %qq% - æœºå™¨äººè´¦å·
    # %group% - ç¾¤å·
    mirai-cache-path: "plugins/MiraiMC/MiraiBot/bots/%qq%/cache/contacts/groups/%group%.json"
    # åœ¨æœåŠ¡å™¨å¯åŠ¨å®Œæˆåç­‰å¾…æŒ‡å®šæ—¶é—´å†è¿è¡Œä¸€æ¬¡, ç”¨äºä¿®å¤éƒ¨åˆ†æœåŠ¡å™¨ä¸Šç¬¬ä¸€æ¬¡æ— æ³•å¯åŠ¨
    fix-start:
      enabled: true # ä½¿ç”¨æ­¤æ–¹æ¡ˆ
      await-time: 6400 # ç­‰å¾…æ—¶é—´, æ¯«ç§’
      prevent-duplication: true # å¦‚æœå·²ç»æ­£å¸¸è¿è¡Œåˆ™å–æ¶ˆæ­¤ä»»åŠ¡


  ## 8
  # å°† %message% ä¸­çš„ @qqID æ›¿æ¢ä¸º @åç§°
  # éœ€è¦å¼€å¯å‰ç½®: aplini.player-cache
  format-qq-id:
    enabled: true
    # ç”¨äºåŒ¹é… @qqID çš„æ­£åˆ™
    regular: '(@[0-9]{5,11})'
    # æ ¼å¼
    # %qq% - qqå·
    # %name% - åç§°
    format: 'Â§f[Â§7@%name%Â§f]Â§7'
    # ä¸€æ¡æ¶ˆæ¯æœ€å¤šåŒ¹é…å‡ æ¬¡, é˜²æ­¢åˆ·å±æµªè´¹æ€§èƒ½
    max-cycles-num: 10


  ## 9
  # äº‹ä»¶ä»»åŠ¡
  event-func:
    # enable ä¿®æ”¹åéœ€è¦é‡å¯æœåŠ¡å™¨
    enable: false
    # ä½¿ç”¨ä¸Šæ–¹ general.group-ids ä¸­é…ç½®çš„ç¾¤
    use-general-group-ids: true
    # å¯ç”¨åœ¨å“ªäº›ç¾¤, éœ€è¦ use-general-group-ids: false
    group-ids:
      - 1000000

      # æ¯ä¸ªäº‹ä»¶å¯ç”¨çš„ä»»åŠ¡ä¸åŒ, è¿™é‡Œåˆ—å‡ºäº†æ‰€æœ‰ä»»åŠ¡çš„ä½¿ç”¨æ–¹æ³•:
      # - command: 'command' - å‘é€æŒ‡ä»¤

      # - message-text: 'æ¶ˆæ¯' - å‘äº‹ä»¶æ¥æºå‘é€æ¶ˆæ¯, ç¾¤ æˆ– å¥½å‹/ç§èŠ

      # - message-group: 1000000 - å‘æŒ‡å®šç¾¤å‘é€æ¶ˆæ¯
      #   message-text: 'æ¶ˆæ¯'

      # - message-friend: 2000003 - å‘æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯
      #   message-text: 'æ¶ˆæ¯'

    MiraiMemberJoinEvent: # ç¾¤æˆå‘˜åŠ å…¥
    # å¯ä½¿ç”¨: command, message-text, message-group
    # ä¸€ä¸ªäº‹ä»¶ä¸­å¯æ·»åŠ å¤šä¸ªç›¸åŒæˆ–ä¸ç›¸åŒçš„ä»»åŠ¡, å°±åƒè¿™æ ·:
    #- message-text: 'æ¬¢è¿'
    #- command: 'tps'
    #- command: 'mspt'
    #- message-group: 1000000
    #  message-text: 'æ¶ˆæ¯'

    MiraiMemberLeaveEvent: # æˆå‘˜é€€å‡º
    # å¯ä½¿ç”¨: command, message-text, message-group


  ## 10
  # è‡ªåŠ¨å›å¤
  # å½“QQç¾¤ä¸­çš„æ¶ˆæ¯åŒ¹é…æ—¶å‘é€è‡ªå®šä¹‰æ¶ˆæ¯
  auto-response:
    enable: true
    # ä½¿ç”¨ä¸Šæ–¹ general.group-ids ä¸­é…ç½®çš„ç¾¤
    use-general-group-ids: true
    # å›å¤å“ªäº›ç¾¤çš„æ¶ˆæ¯, éœ€è¦ use-general-group-ids: false
    group-ids:
      - 1000000
    # ä¸ºæ­¤åŠŸèƒ½å¯ç”¨PAPI, éœ€è¦å®‰è£…PAPIæ’ä»¶
    enable-papi: false

    # **ä½¿ç”¨æ–¹æ³•**
    # list:
    #   - åŒ¹é…æ–¹å¼: prefix (å‰ç¼€åŒ¹é…)
    #             contain (åŒ…å«)
    #             equal (å®Œå…¨ç›¸ç­‰)
    #             regular (æ­£åˆ™åŒ¹é…, send ä¸­å¯ä½¿ç”¨æ­£åˆ™å˜é‡)
    #     send (å‘é€çš„æ¶ˆæ¯å†…å®¹)
    #
    # > æ­£åˆ™çš„æ€§èƒ½è¾ƒå·®, è¯·å°½é‡é¿å…ä½¿ç”¨å¾ˆå¤šæ­£åˆ™
    # !! è¯·å°å¿ƒä½¿ç”¨æ­£åˆ™æ‹¼æ¥PAPIå˜é‡, å¦‚æœæ­£åˆ™è®¾è®¡æœ‰é—®é¢˜åˆ™å¯èƒ½å‡ºç°æ³¨å…¥æ¼æ´ !!
    #    - æç¤º: åº”æŒ‡å®šåŒ¹é…çš„å­—ç¬¦èŒƒå›´å’Œæœ€å°æœ€å¤§æ¬¡æ•°, è¦ç»å¯¹çš„é˜²æ­¢è¾“å…¥PAPIå˜é‡çš„ä¿ç•™ç¬¦å·: %
    #      - æ¯”å¦‚: - regular: '^\#ping ([a-zA-Z0-9_]{3,16})$'
    #               send: '$1 çš„å»¶è¿Ÿä¸º: %player_ping_$1%ms'
    # ç¤ºä¾‹é…ç½®, é»˜è®¤é…ç½®äº†ä¸€äº›å¯èƒ½æœ‰ç”¨çš„åŠŸèƒ½:
    list:

      # ä½¿ç”¨PAPIè·å–åœ¨çº¿ç©å®¶æ•°é‡, éœ€è¦å¯ç”¨ aplini.auto-response.enable-papi
      # PlayerList: /papi ecloud download playerlist
      - equal: '#list'
        send: 'åœ¨çº¿ç©å®¶: [%playerlist_online,normal,yes,amount%] \n%playerlist_online,normal,yes,list%'

      # ä½¿ç”¨PAPIè·å–æœåŠ¡å™¨TPS, éœ€è¦å¯ç”¨ aplini.auto-response.enable-papi
      # Server: /papi ecloud download Server
      - equal: '#tps'
        send: 'TPS [1m, 5m, 15m]: %server_tps_1% / %server_tps_5% / %server_tps_15%'

      # æŒ‡ä»¤åˆ—è¡¨
      - equal: '#help'
        send: 'æŒ‡ä»¤åˆ—è¡¨: 
        \n    - #list - æ˜¾ç¤ºåœ¨çº¿ç©å®¶åˆ—è¡¨
        \n    - #tps - æ˜¾ç¤ºæœåŠ¡å™¨TPS'

      # @ä¸€ä¸ªQQå·æ—¶å‘é€æ¶ˆæ¯
      - contain: '@2000000'
        send: 'OwO'


# <- è‡³æ­¤, æ‚¨å·²ç»å®Œæˆäº†æ‰€æœ‰é…ç½®, éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ /chat2qq reload é‡è½½æ’ä»¶å³å¯åº”ç”¨ uwu

```


### æŒ‡ä»¤å’Œæƒé™

- `qchat <æ¶ˆæ¯>` - å‘é€æ¶ˆæ¯åˆ°ç¾¤, è¯¦ç»†é…ç½®åœ¨ `aplini.qchat`
- `chat2qq` - æ’ä»¶ä¸»å‘½ä»¤ & å¸®åŠ©ä¿¡æ¯
    - `chat2qq setgroupcacheall` - é‡å»ºç¾¤æˆå‘˜ç¼“å­˜æ•°æ®
    - `chat2qq outgroupcacheall` - æ‰“å°ç¾¤æˆå‘˜ç¼“å­˜æ•°æ®

plugin.yml
```yaml
commands:
  qchat:
    description: å‘é€èŠå¤©æ¶ˆæ¯åˆ°QQç¾¤
    permission: chat2qq.command.qchat

  chat2qq:
    description: Chat2QQ æ’ä»¶ä¸»å‘½ä»¤

permissions:
  chat2qq.qq.receive:
    description: å…è®¸æ”¶åˆ°æ¥è‡ªQQç¾¤çš„æ¶ˆæ¯
    default: true

  chat2qq.chat.requite:
    description: å…è®¸ä½¿ç”¨å‰ç¼€ç¬¦å·è½¬å‘æ¶ˆæ¯åˆ°QQç¾¤
    default: true

  chat2qq.join.silent:
    description: å…è®¸æ‚„æ‚„åŠ å…¥æœåŠ¡å™¨
    default: false

  chat2qq.quit.silent:
    description: å…è®¸æ‚„æ‚„ç¦»å¼€æœåŠ¡å™¨
    default: false

  chat2qq.command.qchat:
    description: å…è®¸ä½¿ç”¨ /qchat
    default: op

  chat2qq.command.chat2qq:
    description: å…è®¸ä½¿ç”¨ /chat2qq
    default: op

  chat2qq:.command.setgroupcacheall:
    description: å…è®¸ä½¿ç”¨ /chat2qq setgroupcacheall
    default: op
```
